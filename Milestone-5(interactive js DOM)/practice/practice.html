<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emergency Helplines</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* ছোট animation এর জন্য */
    .fade-in {
      animation: fadeIn 0.4s ease-in-out;
    }
    .fade-out {
      animation: fadeOut 0.4s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeOut {
      from { opacity: 1; transform: translateY(0); }
      to { opacity: 0; transform: translateY(-10px); }
    }
  </style>
</head>
<body class="bg-green-50">

  <!-- Cards -->
  <div class="max-w-7xl mx-auto p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    
    <!-- Example Card -->
    <div class="bg-white shadow rounded-xl p-6 flex flex-col gap-4">
      <div class="flex justify-between items-start">
        <div>
          <div class="w-10 h-10 bg-red-100 flex items-center justify-center rounded-full mb-2">🔔</div>
          <h2 class="text-lg font-bold">National Emergency Number</h2>
          <p class="text-gray-500 text-sm">National Emergency</p>
        </div>
        <button class="text-gray-400 hover:text-red-500">♡</button>
      </div>
      <p class="text-2xl font-bold phone-number">999</p>
      <span class="px-3 py-1 text-xs bg-gray-100 rounded-full w-fit">All</span>
      <div class="flex gap-2">
        <button class="copy-btn flex-1 border rounded-lg py-2 text-sm">📋 Copy</button>
        <button class="call-btn flex-1 bg-green-500 text-white rounded-lg py-2 text-sm hover:bg-green-600">📞 Call</button>
      </div>
    </div>

    <!-- আরেকটা Card -->
    <div class="bg-white shadow rounded-xl p-6 flex flex-col gap-4">
      <div class="flex justify-between items-start">
        <div>
          <div class="w-10 h-10 bg-blue-100 flex items-center justify-center rounded-full mb-2">👮</div>
          <h2 class="text-lg font-bold">Police Helpline Number</h2>
          <p class="text-gray-500 text-sm">Police</p>
        </div>
        <button class="text-gray-400 hover:text-red-500">♡</button>
      </div>
      <p class="text-2xl font-bold phone-number">999</p>
      <span class="px-3 py-1 text-xs bg-gray-100 rounded-full w-fit">Police</span>
      <div class="flex gap-2">
        <button class="copy-btn flex-1 border rounded-lg py-2 text-sm">📋 Copy</button>
        <button class="call-btn flex-1 bg-green-500 text-white rounded-lg py-2 text-sm hover:bg-green-600">📞 Call</button>
      </div>
    </div>

  </div>

  <!-- Call History -->
  <div class="max-w-7xl mx-auto p-6">
    <div class="bg-white shadow rounded-xl p-4">
      <div class="flex justify-between items-center mb-4">
        <h2 class="font-bold text-lg flex items-center gap-2">⏱ Call History</h2>
        <button id="clearHistory" class="bg-green-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-green-600">Clear</button>
      </div>
      <ul id="callHistory" class="space-y-3 text-sm text-gray-700"></ul>
    </div>
  </div>

  <!-- 🔔 Custom Call Alert -->
  <div id="callAlert" class="fixed top-5 right-5 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg hidden"></div>

  <script>
    // Copy button functionality
    document.querySelectorAll(".copy-btn").forEach(btn => {
      btn.addEventListener("click", function () {
        const number = this.closest(".flex-col").querySelector(".phone-number").innerText;
        navigator.clipboard.writeText(number);
        alert(`📋 Copied: ${number}`);
      });
    });

    const historyList = document.getElementById("callHistory");
    const callAlert = document.getElementById("callAlert");

    // Call button functionality
    document.querySelectorAll(".call-btn").forEach(btn => {
      btn.addEventListener("click", function () {
        const card = this.closest(".flex-col");
        const name = card.querySelector("h2").innerText;
        const number = card.querySelector(".phone-number").innerText;
        const time = new Date().toLocaleTimeString();

        // 🔔 Show custom animated alert
        callAlert.innerText = `📞 Calling ${name} (${number})...`;
        callAlert.classList.remove("hidden", "fade-out");
        callAlert.classList.add("fade-in");

        // Hide after 2.5s
        setTimeout(() => {
          callAlert.classList.remove("fade-in");
          callAlert.classList.add("fade-out");
          setTimeout(() => {
            callAlert.classList.add("hidden");
          }, 400);
        }, 2500);

        // Add to history
        const li = document.createElement("li");
        li.className = "flex justify-between";
        li.innerHTML = `<span>${name} (${number})</span><span>${time}</span>`;
        historyList.prepend(li); // latest first
      });
    });

    // Clear history
    document.getElementById("clearHistory").addEventListener("click", function () {
      historyList.innerHTML = "";
    });
  </script>

</body>
</html>
